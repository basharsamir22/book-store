{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nexport const getBooks = createAsyncThunk(\"book/getBooks\", async (_, thunkAPI) => {\n  try {\n    const {\n      rejectWithValue\n    } = thunkAPI;\n    const res = await fetch(\"http://localhost:3005/books\");\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nconst bookSlice = createSlice({\n  name: \"book\",\n  initialState: {\n    books: null,\n    isLoading: false\n  },\n  extraReducers: {\n    [getBooks.pending]: (state, action) => {\n      state.isLoading = true;\n    },\n    [getBooks.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.books = action.payload;\n    },\n    [getBooks.rejected]: (state, action) => {\n      state.isLoading = false;\n      console.log(action);\n    }\n  }\n});\nexport default bookSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","getBooks","_","thunkAPI","rejectWithValue","res","fetch","data","json","error","message","bookSlice","name","initialState","books","isLoading","extraReducers","pending","state","action","fulfilled","payload","rejected","console","log","reducer"],"sources":["/Users/basharsamir/Documents/Project/react7/book-store/src/store/bookSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nexport const getBooks = createAsyncThunk(\n  \"book/getBooks\",\n  async (_, thunkAPI) => {\n    try {\n      const { rejectWithValue } = thunkAPI;\n      const res = await fetch(\"http://localhost:3005/books\");\n      const data = await res.json();\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst bookSlice = createSlice({\n  name: \"book\",\n  initialState: { books: null, isLoading: false },\n  extraReducers: {\n    [getBooks.pending]: (state, action) => {\n      state.isLoading = true;\n    },\n    [getBooks.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.books = action.payload;\n    },\n    [getBooks.rejected]: (state, action) => {\n      state.isLoading = false;\n      console.log(action);\n    },\n  },\n});\nexport default bookSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AAEA,OAAO,MAAMC,QAAQ,GAAGD,gBAAgB,CACtC,eADsC,EAEtC,OAAOE,CAAP,EAAUC,QAAV,KAAuB;EACrB,IAAI;IACF,MAAM;MAAEC;IAAF,IAAsBD,QAA5B;IACA,MAAME,GAAG,GAAG,MAAMC,KAAK,CAAC,6BAAD,CAAvB;IACA,MAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;IACA,OAAOD,IAAP;EACD,CALD,CAKE,OAAOE,KAAP,EAAc;IACd,OAAOL,eAAe,CAACK,KAAK,CAACC,OAAP,CAAtB;EACD;AACF,CAXqC,CAAjC;AAcP,MAAMC,SAAS,GAAGZ,WAAW,CAAC;EAC5Ba,IAAI,EAAE,MADsB;EAE5BC,YAAY,EAAE;IAAEC,KAAK,EAAE,IAAT;IAAeC,SAAS,EAAE;EAA1B,CAFc;EAG5BC,aAAa,EAAE;IACb,CAACf,QAAQ,CAACgB,OAAV,GAAoB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACrCD,KAAK,CAACH,SAAN,GAAkB,IAAlB;IACD,CAHY;IAIb,CAACd,QAAQ,CAACmB,SAAV,GAAsB,CAACF,KAAD,EAAQC,MAAR,KAAmB;MACvCD,KAAK,CAACH,SAAN,GAAkB,KAAlB;MACAG,KAAK,CAACJ,KAAN,GAAcK,MAAM,CAACE,OAArB;IACD,CAPY;IAQb,CAACpB,QAAQ,CAACqB,QAAV,GAAqB,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MACtCD,KAAK,CAACH,SAAN,GAAkB,KAAlB;MACAQ,OAAO,CAACC,GAAR,CAAYL,MAAZ;IACD;EAXY;AAHa,CAAD,CAA7B;AAiBA,eAAeR,SAAS,CAACc,OAAzB"},"metadata":{},"sourceType":"module"}