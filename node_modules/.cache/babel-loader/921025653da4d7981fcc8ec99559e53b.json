{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nexport const getBooks = createAsyncThunk('book/getBooks', async (_, thunkAPI) => {\n  const {\n    rejectWithValue\n  } = thunkAPI;\n\n  try {\n    const res = await fetch('http://localhost:3005/books');\n    const data = await res.json();\n    return data;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nconst bookSlice = createSlice({\n  name: 'book',\n  initialState: {\n    books: null,\n    isLoading: false,\n    error: null\n  },\n  extraReducers: {\n    [getBooks.pending]: (state, action) => {\n      state, error = n;\n      state.isLoading = true;\n    },\n    [getBooks.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.books = action.payload;\n    },\n    [getBooks.rejected]: (state, action) => {\n      state.isLoading = false;\n      console.log(action);\n    }\n  }\n});\nexport default bookSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","getBooks","_","thunkAPI","rejectWithValue","res","fetch","data","json","error","message","bookSlice","name","initialState","books","isLoading","extraReducers","pending","state","action","n","fulfilled","payload","rejected","console","log","reducer"],"sources":["/Users/basharsamir/Documents/Project/react7/book-store/src/store/bookSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n\nexport const getBooks =createAsyncThunk('book/getBooks',async(_, thunkAPI)=>{\n    const { rejectWithValue } = thunkAPI;\n    try {\n        const res =await fetch('http://localhost:3005/books');\n        const data =await res.json();\n        return data;\n    } catch (error) {\n        return rejectWithValue(error.message);\n    }\n})\n\nconst bookSlice =createSlice({\n    name: 'book',\n    initialState: {books: null , isLoading:false , error :null},\n    extraReducers: {\n        [getBooks.pending]:(state,action)=>{\n            state,error =n\n            state.isLoading=true;\n        },\n        [getBooks.fulfilled]:(state,action)=>{\n            state.isLoading=false;\n            state.books=action.payload;\n        },\n        [getBooks.rejected]:(state,action)=>{\n            state.isLoading=false ;\n            console.log(action);\n        }\n    },\n});\nexport default bookSlice.reducer;"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AAGA,OAAO,MAAMC,QAAQ,GAAED,gBAAgB,CAAC,eAAD,EAAiB,OAAME,CAAN,EAASC,QAAT,KAAoB;EACxE,MAAM;IAAEC;EAAF,IAAsBD,QAA5B;;EACA,IAAI;IACA,MAAME,GAAG,GAAE,MAAMC,KAAK,CAAC,6BAAD,CAAtB;IACA,MAAMC,IAAI,GAAE,MAAMF,GAAG,CAACG,IAAJ,EAAlB;IACA,OAAOD,IAAP;EACH,CAJD,CAIE,OAAOE,KAAP,EAAc;IACZ,OAAOL,eAAe,CAACK,KAAK,CAACC,OAAP,CAAtB;EACH;AACJ,CATsC,CAAhC;AAWP,MAAMC,SAAS,GAAEZ,WAAW,CAAC;EACzBa,IAAI,EAAE,MADmB;EAEzBC,YAAY,EAAE;IAACC,KAAK,EAAE,IAAR;IAAeC,SAAS,EAAC,KAAzB;IAAiCN,KAAK,EAAE;EAAxC,CAFW;EAGzBO,aAAa,EAAE;IACX,CAACf,QAAQ,CAACgB,OAAV,GAAmB,CAACC,KAAD,EAAOC,MAAP,KAAgB;MAC/BD,KAAK,EAACT,KAAK,GAAEW,CAAb;MACAF,KAAK,CAACH,SAAN,GAAgB,IAAhB;IACH,CAJU;IAKX,CAACd,QAAQ,CAACoB,SAAV,GAAqB,CAACH,KAAD,EAAOC,MAAP,KAAgB;MACjCD,KAAK,CAACH,SAAN,GAAgB,KAAhB;MACAG,KAAK,CAACJ,KAAN,GAAYK,MAAM,CAACG,OAAnB;IACH,CARU;IASX,CAACrB,QAAQ,CAACsB,QAAV,GAAoB,CAACL,KAAD,EAAOC,MAAP,KAAgB;MAChCD,KAAK,CAACH,SAAN,GAAgB,KAAhB;MACAS,OAAO,CAACC,GAAR,CAAYN,MAAZ;IACH;EAZU;AAHU,CAAD,CAA5B;AAkBA,eAAeR,SAAS,CAACe,OAAzB"},"metadata":{},"sourceType":"module"}